<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>ãƒãƒ¯ã‚¤æ—…ç¨‹ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ 2026 (Final v3)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap"
        rel="stylesheet">

    <style>
        body {
            font-family: 'Noto Sans JP', sans-serif;
            background-color: #fdfcf8;
            color: #44403c;
            -webkit-font-smoothing: antialiased;
        }

        /* Auth Overlay */
        #auth-overlay {
            position: fixed;
            inset: 0;
            z-index: 9999;
            background: #fdfcf8;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .nav-item.active {
            border-bottom: 3px solid #0d9488;
            color: #0f766e;
            font-weight: 700;
        }

        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }

        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        .chart-wrapper {
            position: relative;
            width: 100%;
            margin: 0 auto;
            height: 280px;
            max-height: 400px;
        }

        html {
            scroll-behavior: smooth;
        }

        /* Safe Area Support */
        .mb-safe {
            margin-bottom: env(safe-area-inset-bottom, 20px);
        }

        .pb-safe {
            padding-bottom: env(safe-area-inset-bottom, 20px);
        }

        .pt-safe {
            padding-top: env(safe-area-inset-top, 20px);
        }
    </style>
</head>

<body class="flex flex-col min-h-screen bg-stone-50 overflow-hidden">

    <!-- Auth Overlay -->
    <div id="auth-overlay">
        <div class="bg-white p-8 rounded-2xl shadow-xl border border-stone-100 w-full max-w-sm mx-4 text-center">
            <div class="text-4xl mb-4">ğŸ”’</div>
            <h2 class="text-xl font-bold text-teal-800 mb-6">Enter Passcode</h2>
            <div class="space-y-4">
                <input type="text" id="auth-user" placeholder="Username"
                    class="w-full p-3 rounded-xl border border-stone-200 bg-stone-50 focus:outline-none focus:border-teal-500 transition-colors">
                <input type="password" id="auth-pass" placeholder="Password"
                    class="w-full p-3 rounded-xl border border-stone-200 bg-stone-50 focus:outline-none focus:border-teal-500 transition-colors">
                <button onclick="checkAuth()"
                    class="w-full bg-teal-600 text-white font-bold py-3 rounded-xl shadow-lg shadow-teal-600/20 active:scale-95 transition-transform">Unlock
                    Dashboard</button>
            </div>
            <p id="auth-error" class="text-red-500 text-xs mt-4 hidden">Incorrect credentials</p>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="bg-white/95 backdrop-blur-sm shadow-sm sticky top-0 z-50 border-b border-stone-100 pt-[env(safe-area-inset-top)] hidden"
        id="main-nav">
        <div class="max-w-6xl mx-auto">
            <div class="flex flex-col">
                <div
                    class="flex items-center justify-center h-12 border-b border-stone-50 md:border-none md:justify-start md:h-16 md:px-4">
                    <span class="text-xl mr-2">ğŸŒº</span>
                    <span class="font-bold text-lg tracking-wide text-teal-800">Hawaii 2026 (Final v3)</span>
                </div>
                <div class="flex overflow-x-auto no-scrollbar px-2 md:px-4">
                    <button onclick="app.navigate('dashboard')" id="nav-dashboard"
                        class="nav-item active flex-shrink-0 px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap">æ¦‚è¦</button>
                    <button onclick="app.navigate('itinerary')" id="nav-itinerary"
                        class="nav-item flex-shrink-0 px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap">æ—…ç¨‹è©³ç´°</button>
                    <button onclick="app.navigate('spots')" id="nav-spots"
                        class="nav-item flex-shrink-0 px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap">ã‚¹ãƒãƒƒãƒˆ</button>
                    <button onclick="app.navigate('packing')" id="nav-packing"
                        class="nav-item flex-shrink-0 px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap">æŒã¡ç‰©</button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main id="app-content" class="flex-grow max-w-6xl mx-auto px-4 py-6 w-full pb-20 hidden"></main>

    <!-- Footer -->
    <footer class="bg-stone-100 mt-auto py-8 border-t border-stone-200 mb-safe hidden" id="main-footer">
        <div class="max-w-6xl mx-auto px-4 text-center text-stone-500 text-sm">
            <p class="font-medium text-teal-700">Mahalo! ğŸŒ´</p>
        </div>
    </footer>

    <script>
        // Simple Auth Logic
        function checkAuth(e) {
            if (e) e.preventDefault();
            const u = document.getElementById('auth-user').value;
            const p = document.getElementById('auth-pass').value;
            if (u === 'midorikawa' && p === 'midorikawa') {
                document.getElementById('auth-overlay').style.display = 'none';
                document.getElementById('main-nav').classList.remove('hidden');
                document.getElementById('app-content').classList.remove('hidden');
                document.getElementById('main-footer').classList.remove('hidden');
                document.body.classList.remove('overflow-hidden');
                app.init();
            } else {
                document.getElementById('auth-error').classList.remove('hidden');
                document.getElementById('auth-user').classList.add('border-red-500');
                document.getElementById('auth-pass').classList.add('border-red-500');
            }
        }

        const tripData = {
            meta: {
                dates: "2026/01/06(ç«) ã€œ 01/15(æœ¨)",
                nights: 8,
                hotel: "Sheraton Waikiki",
                hotelMap: "https://www.google.com/maps/search/?api=1&query=Sheraton+Waikiki",
                theme: "JCBãƒˆãƒ­ãƒªãƒ¼ã¨ã‚¦ã‚©ãƒ¼ã‚­ãƒ³ã‚°ã§é¢¨ã‚’æ„Ÿã˜ã‚‹æ—…ã€‚"
            },
            days: [
                {
                    id: 1, date: "1/6(ç«)", title: "åˆ°ç€ & ã‚¢ã‚µã‚¤ãƒ¼", icon: "ğŸ›¬",
                    summary: "åˆ°ç€å¾Œã€ã‚¢ã‚µã‚¤ãƒ¼ã§è»½ã‚ã®ãƒ©ãƒ³ãƒã€‚å¤œã¯æ¥µä¸Šã‚¤ã‚¿ãƒªã‚¢ãƒ³ã€‚",
                    budgetEst: 100,
                    timeline: [
                        { time: "11:30", type: "hotel", title: "è·ç‰©é ã‘", desc: "ã‚·ã‚§ãƒ©ãƒˆãƒ³ã¸ã€‚", map: null },
                        { time: "11:50", type: "walk", title: "å¾’æ­© (10åˆ†)", desc: "ãƒãƒ¯ã‚¤ã®ç©ºæ°—ã‚’æ„Ÿã˜ãªãŒã‚‰ãƒ¯ã‚¤ã‚­ã‚­æ•£ç­–ã€‚", map: null },
                        { time: "12:00", type: "food", title: "Tropical Tribe", desc: "ã€ãƒ©ãƒ³ãƒã€‘ãƒ‡ã‚£ã‚¹ã‚«ãƒãƒªãƒ¼ãƒ»ãƒ™ã‚¤åœ°ä¸‹ã€‚æ¿ƒåšã‚¢ã‚µã‚¤ãƒ¼ã€‚", map: "https://www.google.com/maps/search/?api=1&query=Tropical+Tribe" },
                        { time: "14:00", type: "walk", title: "å¾’æ­© (10åˆ†)", desc: "ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³ã¸æˆ»ã‚‹ã€‚", map: null },
                        { time: "15:00", type: "hotel", title: "ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³", desc: "ã‚·ãƒ£ãƒ¯ãƒ¼ã‚’æµ´ã³ã¦ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã€‚", map: null },
                        { time: "18:30", type: "walk", title: "å¾’æ­© (15åˆ†)", desc: "ã‚«ãƒ©ã‚«ã‚¦ã‚¢é€šã‚Šã‚’æµ·æ²¿ã„ã«æ•£æ­©ã€‚", map: null },
                        { time: "19:00", type: "food", title: "Arancino di Mare", desc: "ã€ãƒ‡ã‚£ãƒŠãƒ¼ã€‘ãƒãƒªã‚ªãƒƒãƒˆ1Fã€‚ã‚¦ãƒ‹ãƒ‘ã‚¹ã‚¿ã€‚", map: "https://www.google.com/maps/search/?api=1&query=Arancino+di+Mare" }
                    ]
                },
                {
                    id: 2, date: "1/7(æ°´)", title: "ã‚¤ãƒ«ã‚« & ãƒ—ãƒ¼ãƒ«", icon: "ğŸ¬",
                    summary: "æ—©æœã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£å¾Œã¯ã€ãƒ•ãƒªãƒ¼ãƒ©ãƒ³ãƒã¨ãƒ—ãƒ¼ãƒ«ã§å›å¾©ã€‚",
                    budgetEst: 350,
                    timeline: [
                        { time: "06:30", type: "transport", title: "ãŠè¿ãˆè»Š", desc: "ãƒ­ãƒ“ãƒ¼é›†åˆã§è¥¿æµ·å²¸ã¸ã€‚", map: null },
                        { time: "07:00", type: "activity", title: "ã‚¤ãƒ«ã‚« & ã‚·ãƒ¥ãƒãƒ¼ã‚±ãƒ«", desc: "é‡ç”Ÿã®ã‚¤ãƒ«ã‚«ã¨æ³³ãä½“é¨“ã€‚", map: null },
                        { time: "13:00", type: "food", title: "ãƒ•ãƒªãƒ¼ / è»½é£Ÿ", desc: "ã€ãƒ©ãƒ³ãƒã€‘ãŠã‚€ã™ã³(ã„ã‚„ã™å¤¢)ãªã©ã€‚", map: "https://www.google.com/maps/search/?api=1&query=Musubi+Cafe+Iyasume+Waikiki" },
                        { time: "15:00", type: "relax", title: "ã‚¤ãƒ³ãƒ•ã‚£ãƒ‹ãƒ†ã‚£ãƒ—ãƒ¼ãƒ«", desc: "ãƒ›ãƒ†ãƒ«ã§ã®ã‚“ã³ã‚Šã€‚", map: null },
                        { time: "17:45", type: "walk", title: "å¾’æ­© (10åˆ†)", desc: "ã‚¯ãƒ’ã‚ªé€šã‚Šæ–¹é¢ã¸ã€‚", map: null },
                        { time: "18:00", type: "food", title: "Hy's Steak House", desc: "ã€ãƒ‡ã‚£ãƒŠãƒ¼ã€‘ã‚¯ãƒ©ã‚·ãƒƒã‚¯ã‚¹ãƒ†ãƒ¼ã‚­ã€‚", map: "https://www.google.com/maps/search/?api=1&query=Hy's+Steak+House+Waikiki" }
                    ]
                },
                {
                    id: 3, date: "1/8(æœ¨)", title: "DH & ã‚°ãƒ«ãƒ¡æ•£æ­©", icon: "â›°ï¸",
                    summary: "æœãƒã‚¤ã‚­ãƒ³ã‚°å¾Œã€ãƒ¢ãƒ³ã‚µãƒ©ãƒƒãƒˆé€šã‚Šã‚’æ°—æŒã¡ã‚ˆãæ•£æ­©ã€‚",
                    budgetEst: 100,
                    timeline: [
                        { time: "07:00", type: "transport", title: "Uber/ã‚¿ã‚¯ã‚·ãƒ¼", desc: "ç™»å±±å£ã¾ã§ã¯è»Šã§åŠ¹ç‡ã‚ˆãã€‚", map: null },
                        { time: "07:30", type: "activity", title: "Diamond Head", desc: "ã€è¦äºˆç´„ã€‘æœæ—¥ãƒã‚¤ã‚­ãƒ³ã‚°ã€‚", map: "https://www.google.com/maps/search/?api=1&query=Diamond+Head+State+Monument" },
                        { time: "09:00", type: "walk", title: "å¾’æ­© (25åˆ†)", desc: "ä¸˜ã‚’ä¸‹ã‚Šã¦ãƒ¢ãƒ³ã‚µãƒ©ãƒƒãƒˆé€šã‚Šã¸ã€‚çµ¶æ™¯æ•£æ­©ã€‚", map: null },
                        { time: "09:30", type: "food", title: "Bogart's Cafe", desc: "ã€ãƒ–ãƒ©ãƒ³ãƒã€‘ãƒ•ãƒ©ã‚¤ãƒ‰ãƒ©ã‚¤ã‚¹ã§ã‚¨ãƒãƒ«ã‚®ãƒ¼è£œçµ¦ã€‚", map: "https://www.google.com/maps/search/?api=1&query=Bogart's+Cafe+Honolulu" },
                        { time: "10:15", type: "walk", title: "å¾’æ­© (15åˆ†)", desc: "ã‚«ãƒ‘ãƒ•ãƒ«é€šã‚Šã¸ç§»å‹•ã€‚", map: null },
                        { time: "10:30", type: "food", title: "Leonard's Bakery", desc: "ã€ãŠã‚„ã¤ã€‘æšã’ãŸã¦ãƒãƒ©ã‚µãƒ€ã€‚", map: "https://www.google.com/maps/search/?api=1&query=Leonard's+Bakery" },
                        { time: "11:00", type: "walk", title: "å¾’æ­© (45åˆ†)", desc: "ãƒ¯ã‚¤ã‚­ã‚­ã¾ã§è…¹ã”ãªã—ãƒ­ãƒ³ã‚°ã‚¦ã‚©ãƒ¼ã‚¯(ç´„3.5km)ã€‚æš‘ã‘ã‚Œã°Uberã§ã€‚", map: null },
                        { time: "PM", type: "relax", title: "ãƒ•ãƒªãƒ¼ã‚¿ã‚¤ãƒ ", desc: "ãƒ—ãƒ¼ãƒ«ã‚„ãƒ“ãƒ¼ãƒã§ãŠæ˜¼å¯ã€‚", map: null },
                        { time: "19:00", type: "walk", title: "å¾’æ­© (10åˆ†)", desc: "ãƒã‚¤ã‚¢ãƒƒãƒˆæ–¹é¢ã¸ã€‚", map: null },
                        { time: "19:15", type: "food", title: "Kirin Restaurant", desc: "ã€ãƒ‡ã‚£ãƒŠãƒ¼ã€‘ä¸­è¯ã®ååº—ã€‚", map: "https://www.google.com/maps/search/?api=1&query=Kirin+Restaurant+Waikiki" }
                    ]
                },
                {
                    id: 4, date: "1/9(é‡‘)", title: "ã‚¢ãƒ©ãƒ¢ã‚¢ãƒŠ(JCB)", icon: "ğŸ›ï¸",
                    summary: "ãƒ”ãƒ³ã‚¯ãƒ©ã‚¤ãƒ³ã‚’æ´»ç”¨ã—ã¦ã‚¢ãƒ©ãƒ¢ã‚¢ãƒŠã¸ã€‚",
                    budgetEst: 200,
                    timeline: [
                        { time: "10:00", type: "trolley", title: "ãƒ”ãƒ³ã‚¯ãƒ©ã‚¤ãƒ³ (JCBç„¡æ–™)", desc: "ãƒ­ã‚¤ãƒ¤ãƒ«ãƒãƒ¯ã‚¤ã‚¢ãƒ³Cã€œã‚¢ãƒ©ãƒ¢ã‚¢ãƒŠ(ç´„20åˆ†)ã€‚2éšå¸­ã§é¢¨ã‚’æ„Ÿã˜ã¦ã€‚", map: null },
                        { time: "AM", type: "shop", title: "Ala Moana Center", desc: "æ—¥æœ¬æœªä¸Šé™¸ãƒ–ãƒ©ãƒ³ãƒ‰ç­‰ã‚’ãƒã‚§ãƒƒã‚¯ã€‚", map: null },
                        { time: "13:00", type: "food", title: "Foodland Farms", desc: "ã€ãƒ©ãƒ³ãƒã€‘ãƒã‚­ä¸¼ã€‚", map: "https://www.google.com/maps/search/?api=1&query=Foodland+Farms+Ala+Moana" },
                        { time: "14:00", type: "walk", title: "å¾’æ­© (10åˆ†)", desc: "ã¾ãŸã¯ãƒˆãƒ­ãƒªãƒ¼ã§å¸°å®…ã€‚", map: null },
                        { time: "17:45", type: "transport", title: "Uber/ã‚¿ã‚¯ã‚·ãƒ¼", desc: "å¤œãªã®ã§è»Šç§»å‹•æ¨å¥¨ã€‚", map: null },
                        { time: "18:00", type: "food", title: "Margotto Hawaii", desc: "ã€ãƒ‡ã‚£ãƒŠãƒ¼ã€‘ãƒˆãƒªãƒ¥ãƒ•å°½ãã—ã€‚", map: "https://www.google.com/maps/search/?api=1&query=Margotto+Hawaii" }
                    ]
                },
                {
                    id: 5, date: "1/10(åœŸ)", title: "æœå¸‚ & å…¬åœ’æ•£æ­©", icon: "ğŸ¥",
                    summary: "KCCæœå¸‚ã¨ã‚«ãƒ”ã‚ªãƒ©ãƒ‹å…¬åœ’æ•£ç­–ã€‚",
                    budgetEst: 50,
                    timeline: [
                        { time: "08:15", type: "transport", title: "Uber/TheBus", desc: "KCCã¸ç§»å‹•ã€‚", map: null },
                        { time: "08:30", type: "shop", title: "KCC Farmers Market", desc: "æœé£Ÿèª¿é”ã¨ã‚·ãƒ§ãƒƒãƒ”ãƒ³ã‚°ã€‚", map: "https://www.google.com/maps/search/?api=1&query=KCC+Farmers+Market" },
                        { time: "10:30", type: "walk", title: "å¾’æ­© (30åˆ†)", desc: "å¸°ã‚Šã¯ã‚«ãƒ”ã‚ªãƒ©ãƒ‹å…¬åœ’ã‚’æŠœã‘ã¦æµ·æ²¿ã„ã‚’æ•£æ­©ã€‚", map: null },
                        { time: "PM", type: "relax", title: "ãƒ•ãƒªãƒ¼ / æµ·ãƒãƒ«", desc: "ãƒ›ãƒ†ãƒ«ãƒ©ãƒŠã‚¤ã§èª­æ›¸ãªã©ã€‚", map: null },
                        { time: "18:00", type: "walk", title: "å¾’æ­© (5åˆ†)", desc: "ã‚¯ãƒ’ã‚ªé€šã‚Šã¸ã€‚", map: null },
                        { time: "18:10", type: "food", title: "Maguro Spot", desc: "ã€ãƒ‡ã‚£ãƒŠãƒ¼ã€‘ãƒã‚­ã‚’ãƒ†ã‚¤ã‚¯ã‚¢ã‚¦ãƒˆã€‚", map: "https://www.google.com/maps/search/?api=1&query=Maguro+Spot+Waikiki" }
                    ]
                },
                {
                    id: 6, date: "1/11(æ—¥)", title: "ã‚¢ã‚µã‚¤ãƒ¼ & ãƒã‚¤ã‚¿ã‚¤", icon: "ğŸ¹",
                    summary: "è¿‘å ´ã§ã‚†ã£ãŸã‚Šã€‚ã™ã¹ã¦å¾’æ­©åœå†…ã€‚",
                    budgetEst: 80,
                    timeline: [
                        { time: "11:00", type: "walk", title: "å¾’æ­© (5åˆ†)", desc: "ãƒ“ãƒ¼ãƒã‚¦ã‚©ãƒ¼ã‚¯æ–¹é¢ã¸ã€‚", map: null },
                        { time: "11:10", type: "food", title: "Nalu Health Bar", desc: "ã€ãƒ©ãƒ³ãƒã€‘ã‚¢ã‚µã‚¤ãƒ¼ãƒœã‚¦ãƒ«ã€‚", map: "https://www.google.com/maps/search/?api=1&query=Nalu+Health+Bar+%26+Cafe+Waikiki" },
                        { time: "14:00", type: "walk", title: "å¾’æ­© (3åˆ†)", desc: "ãŠéš£ã®ãƒ”ãƒ³ã‚¯ãƒ‘ãƒ¬ã‚¹ã¸ã€‚", map: null },
                        { time: "14:10", type: "food", title: "Mai Tai Bar", desc: "ã€ã‚«ãƒ•ã‚§/é…’ã€‘æµ·é¢¨ã®ä¸­ã§ãƒã‚¤ã‚¿ã‚¤ã€‚", map: "https://www.google.com/maps/search/?api=1&query=Mai+Tai+Bar+Royal+Hawaiian" },
                        { time: "Night", type: "relax", title: "ãƒ•ãƒªãƒ¼ãƒ‡ã‚£ãƒŠãƒ¼", desc: "ãŠè…¹ã®ç©ºãå…·åˆã«åˆã‚ã›ã¦ã€‚", map: null }
                    ]
                },
                {
                    id: 7, date: "1/12(æœˆ)", title: "ãƒãƒ¼ã‚¹ã‚·ãƒ§ã‚¢(è»Š)", icon: "ğŸš—",
                    summary: "ã€ãƒ¬ãƒ³ã‚¿ã‚«ãƒ¼ã€‘1æ—¥ãƒ‰ãƒ©ã‚¤ãƒ–ã€‚",
                    budgetEst: 150,
                    timeline: [
                        { time: "09:00", type: "transport", title: "ãƒ¬ãƒ³ã‚¿ã‚«ãƒ¼å‡ºç™º", desc: "ãƒãƒ¬ã‚¤ãƒ¯æ–¹é¢ã¸ã€‚", map: null },
                        { time: "11:30", type: "photo", title: "Laniakea Beach", desc: "äº€ã‚¦ã‚©ãƒƒãƒãƒ³ã‚°ã€‚", map: "https://www.google.com/maps/search/?api=1&query=Laniakea+Beach" },
                        { time: "12:30", type: "food", title: "Giovanni's Shrimp", desc: "ã€ãƒ©ãƒ³ãƒã€‘ã‚¬ãƒ¼ãƒªãƒƒã‚¯ã‚·ãƒ¥ãƒªãƒ³ãƒ—ã€‚", map: "https://www.google.com/maps/search/?api=1&query=Giovanni's+Shrimp+Truck+Haleiwa" },
                        { time: "17:30", type: "transport", title: "ãƒ¯ã‚¤ã‚­ã‚­æˆ»ã‚Š", desc: "è»Šè¿”å´ã€‚", map: null },
                        { time: "19:00", type: "food", title: "RumFire", desc: "ã€ãƒ‡ã‚£ãƒŠãƒ¼ã€‘ã‚·ã‚§ãƒ©ãƒˆãƒ³å†…ãƒ—ãƒ¼ãƒ«ã‚µã‚¤ãƒ‰ã€‚", map: "https://www.google.com/maps/search/?api=1&query=RumFire+Waikiki" }
                    ]
                },
                {
                    id: 8, date: "1/13(ç«)", title: "ãƒ“ãƒ¼ãƒæ•£æ­© & è‚‰", icon: "ğŸ–",
                    summary: "ã‚ªãƒ³ã‚¶ãƒ“ãƒ¼ãƒã®ã‚¹ãƒ†ãƒ¼ã‚­å°å±‹ã¸ã€‚",
                    budgetEst: 50,
                    timeline: [
                        { time: "11:00", type: "walk", title: "å¾’æ­© (10åˆ†)", desc: "ç ‚æµœã‚’æ­©ã„ã¦ãƒ•ã‚©ãƒ¼ãƒˆãƒ‡ãƒ©ãƒƒã‚·ãƒ¼æ–¹é¢ã¸ã€‚", map: null },
                        { time: "11:30", type: "food", title: "Steak Shack", desc: "ã€ãƒ©ãƒ³ãƒã€‘æµ·å°å±‹ã‚¹ãƒ†ãƒ¼ã‚­å¼å½“ã€‚ãã®å ´ã§æµ·ã‚’è¦‹ãªãŒã‚‰ã€‚", map: "https://www.google.com/maps/search/?api=1&query=Steak+Shack+Waikiki" },
                        { time: "PM", type: "shop", title: "ãƒ•ãƒªãƒ¼ / è²·ã„ç‰©", desc: "æœ€å¾Œã®ãŠåœŸç”£æ¢ã—ã€‚", map: null }
                    ]
                },
                {
                    id: 9, date: "1/14(æ°´)", title: "æœ€çµ‚æ—¥ãƒ‡ã‚£ãƒŠãƒ¼", icon: "ğŸ½ï¸",
                    summary: "æœ€å¾Œã®ç§»å‹•ã‚‚ãƒˆãƒ­ãƒªãƒ¼æ´»ç”¨ã€‚",
                    budgetEst: 150,
                    timeline: [
                        { time: "17:00", type: "trolley", title: "ãƒ”ãƒ³ã‚¯ãƒ©ã‚¤ãƒ³ (JCBç„¡æ–™)", desc: "ã‚¢ãƒ©ãƒ¢ã‚¢ãƒŠHå‰ã§ä¸‹è»Šã—ã€ãƒ›ãƒ†ãƒ«ã¸ç›´çµã€‚", map: null },
                        { time: "17:30", type: "food", title: "Signature Prime Steak", desc: "ã€ãƒ‡ã‚£ãƒŠãƒ¼ã€‘36éšã‹ã‚‰ã®å¤œæ™¯ã€‚", map: "https://www.google.com/maps/search/?api=1&query=The+Signature+Prime+Steak+%26+Seafood" },
                        { time: "20:00", type: "transport", title: "Uber/ã‚¿ã‚¯ã‚·ãƒ¼", desc: "å¸°ã‚Šã¯å®‰å…¨ã«è»Šã§ã€‚", map: null },
                        { time: "Night", type: "hotel", title: "ãƒ‘ãƒƒã‚­ãƒ³ã‚°", desc: "è·é€ ã‚Šã€‚", map: null }
                    ]
                },
                {
                    id: 10, date: "1/15(æœ¨)", title: "å¸°å›½", icon: "âœˆï¸",
                    summary: "ç©ºæ¸¯ã¸ã€‚",
                    budgetEst: 0,
                    timeline: [
                        { time: "08:00", type: "transport", title: "Uber/ã‚¿ã‚¯ã‚·ãƒ¼", desc: "ç©ºæ¸¯ã¸ç§»å‹•ã€‚", map: null },
                        { time: "10:55", type: "transport", title: "JL791 å‡ºç™º", desc: "Aloha 'Oe!", map: null }
                    ]
                }
            ],
            packing: [
                { item: "ãƒ‘ã‚¹ãƒãƒ¼ãƒˆ & eãƒã‚±ãƒƒãƒˆ", checked: false },
                { item: "JCBã‚«ãƒ¼ãƒ‰", checked: false, note: "ãƒ”ãƒ³ã‚¯ãƒ©ã‚¤ãƒ³ç„¡æ–™ä¹—è»Šã«å¿…é ˆ" },
                { item: "é‹è»¢å…è¨±è¨¼ & å›½éš›å…è¨±", checked: false, note: "Day7ã§å¿…é ˆ" },
                { item: "æ­©ãã‚„ã™ã„é´/ã‚µãƒ³ãƒ€ãƒ«", checked: false, note: "1æ™‚é–“æ­©ã‘ã‚‹é´" },
                { item: "æ—¥ç„¼ã‘æ­¢ã‚ & å¸½å­", checked: false, note: "æ•£æ­©ã®æ—¥å·®ã—å¯¾ç­–" },
                { item: "ã‚¨ã‚³ãƒãƒƒã‚°", checked: false },
                { item: "ä¸Šç€/ãƒ‘ãƒ¼ã‚«ãƒ¼", checked: false, note: "å†·æˆ¿å¯¾ç­–" }
            ]
        };

        const app = {
            state: { currentView: 'dashboard', selectedDay: 1 },
            init() { this.render(); this.initCharts(); },
            navigate(view) {
                this.state.currentView = view;
                document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
                document.getElementById(`nav-${view}`).classList.add('active');
                window.scrollTo(0, 0);
                this.render();
                if (view === 'dashboard') setTimeout(() => this.initCharts(), 50);
            },
            render() {
                const c = document.getElementById('app-content');
                c.innerHTML = '';
                if (this.state.currentView === 'dashboard') c.innerHTML = this.views.dashboard();
                else if (this.state.currentView === 'itinerary') c.innerHTML = this.views.itinerary();
                else if (this.state.currentView === 'spots') c.innerHTML = this.views.spots();
                else if (this.state.currentView === 'packing') c.innerHTML = this.views.packing();
            },
            views: {
                dashboard() {
                    return `
                        <div class="mb-6 bg-white p-5 rounded-2xl shadow-sm border border-stone-100">
                            <h2 class="text-xl font-bold text-teal-800 mb-2">Aloha! æ—…ã®æ¦‚è¦</h2>
                            <p class="text-stone-600 text-sm mb-4 leading-relaxed">${tripData.meta.theme}</p>
                            <div class="bg-stone-50 p-4 rounded-xl flex items-center gap-3">
                                <span class="text-2xl">ğŸ¨</span>
                                <div><div class="font-bold text-stone-800 text-sm">${tripData.meta.hotel} (8æ³Š)</div><div class="text-xs text-teal-600">æœé£Ÿä»˜ã</div></div>
                            </div>
                        </div>
                        <div class="bg-white p-5 rounded-2xl shadow-sm border border-stone-100 mb-6">
                            <h3 class="font-bold text-stone-700 mb-4 flex items-center gap-2 text-sm"><span>ğŸ’°</span> æ—¥åˆ¥äºˆç®—ç›®å®‰ ($)</h3>
                            <div class="chart-wrapper"><canvas id="budgetChart"></canvas></div>
                        </div>
                    `;
                },
                itinerary() {
                    const tabs = tripData.days.map(d => `<button onclick="app.selectDay(${d.id})" class="flex-shrink-0 px-5 py-4 rounded-xl text-center transition-all snap-center ${app.state.selectedDay === d.id ? 'bg-teal-600 text-white shadow-md scale-105' : 'bg-white text-stone-600 border border-stone-200'}"><div class="text-[10px] opacity-80 mb-1">${d.date}</div><div class="text-sm font-bold whitespace-nowrap">Day ${d.id}</div></button>`).join('');
                    const current = tripData.days.find(d => d.id === app.state.selectedDay);
                    const timeline = current.timeline.map(t => {
                        let icon = 'ğŸ“', color = 'bg-stone-100 text-stone-600';
                        if (t.type === 'food') { icon = 'ğŸ½ï¸'; color = 'bg-orange-50 text-orange-600'; }
                        if (t.type === 'activity') { icon = 'ğŸ¤¿'; color = 'bg-blue-50 text-blue-600'; }
                        if (t.type === 'shop') { icon = 'ğŸ›ï¸'; color = 'bg-pink-50 text-pink-600'; }
                        if (t.type === 'trolley') { icon = 'ğŸšŒ'; color = 'bg-pink-100 text-pink-600'; }
                        if (t.type === 'walk') { icon = 'ğŸš¶'; color = 'bg-green-50 text-green-600'; }
                        if (t.type === 'transport') { icon = 'ğŸš•'; color = 'bg-gray-100 text-gray-600'; }

                        return `<div class="relative pl-8 pb-8 border-l-2 border-stone-100 last:border-0"><div class="absolute -left-[17px] top-0 w-8 h-8 rounded-full ${color} flex items-center justify-center border-4 border-white shadow-sm text-sm z-10">${icon}</div><div class="bg-white p-4 rounded-xl border border-stone-100 shadow-sm"><div class="flex justify-between items-start mb-2"><h4 class="font-bold text-stone-800 text-sm">${t.title}</h4><span class="text-[10px] bg-stone-50 px-2 py-1 rounded text-stone-400">${t.time}</span></div><p class="text-xs text-stone-600 mb-3">${t.desc}</p>${t.map ? `<a href="${t.map}" target="_blank" class="inline-flex items-center text-xs text-teal-600 font-bold py-1 px-2 bg-teal-50 rounded">ğŸ“ Map</a>` : ''}</div></div>`;
                    }).join('');
                    return `<div class="mb-4"><h2 class="text-xl font-bold text-teal-800">Day ${current.id}: ${current.title}</h2><p class="text-stone-500 text-xs">${current.summary}</p></div><div class="flex overflow-x-auto no-scrollbar gap-3 pb-4 mb-2 snap-x px-1">${tabs}</div><div class="bg-stone-50 p-5 rounded-2xl border border-stone-200"><div class="mt-2">${timeline}</div></div>`;
                },
                spots() {
                    const spots = tripData.days.flatMap(d => d.timeline.filter(t => ['food', 'activity', 'shop'].includes(t.type)).map(t => ({ ...t, day: d.id })));
                    const unique = spots.filter((v, i, a) => a.findIndex(v2 => v2.title === v.title) === i);
                    return `<div class="grid grid-cols-1 sm:grid-cols-2 gap-3">${unique.map(s => `<div class="bg-white p-4 rounded-xl shadow-sm border border-stone-100"><div class="flex justify-between mb-2"><span class="text-[10px] px-2 py-1 rounded-full bg-stone-100 font-bold">Day ${s.day}</span></div><h4 class="font-bold text-stone-800 text-sm mb-1">${s.title}</h4><p class="text-xs text-stone-600 mb-2">${s.desc}</p>${s.map ? `<a href="${s.map}" target="_blank" class="text-teal-600 text-xs font-bold">Map â†—</a>` : ''}</div>`).join('')}</div>`;
                },
                packing() {
                    return `<div class="flex flex-col gap-3">${tripData.packing.map((i, x) => `<label class="flex items-center gap-4 p-4 bg-white rounded-xl border border-stone-200"><input type="checkbox" ${i.checked ? 'checked' : ''} onchange="app.toggleCheck(${x})" class="w-6 h-6 text-teal-600 rounded"><div class="${i.checked ? 'line-through text-stone-400' : ''} text-sm font-medium">${i.item}${i.note ? `<span class="block text-[10px] text-orange-500">${i.note}</span>` : ''}</div></label>`).join('')}</div>`;
                }
            },
            selectDay(id) { this.state.selectedDay = id; this.render(); },
            toggleCheck(idx) { tripData.packing[idx].checked = !tripData.packing[idx].checked; this.render(); },
            initCharts() {
                const ctx = document.getElementById('budgetChart');
                if (ctx) new Chart(ctx, { type: 'bar', data: { labels: tripData.days.slice(0, 9).map(d => `Day ${d.id}`), datasets: [{ data: tripData.days.slice(0, 9).map(d => d.budgetEst), backgroundColor: '#ccfbf1', borderColor: '#0d9488', borderWidth: 1, borderRadius: 4 }] }, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, scales: { y: { beginAtZero: true }, x: { grid: { display: false } } } } });
            }
        };
    </script>
</body>

</html>